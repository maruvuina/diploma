$(document).ready(function() {
    var max_fields = 100;
    var wrapper    = $(".wrapper");
    var add_button = $(".add_fields");
    var x = 1;  
    $(add_button).click(function(e) {
        e.preventDefault();
        if(x < max_fields) { 
            x++;
            $(wrapper)
            .append(
                '<div class="concrete"><input type="text" class="form-control form-control-sm concrete_ingredient" id="ingredient_name_' + x + '" name="ingredient_name" onclick="selectIngredient(this)" placeholder="Название ингредиента"/> ' + 
                '<input type="text" class="form-control form-control-sm concrete_ingredient" name="ingredient_amount" placeholder="Количество"/> ' +
                '<button class="concrete_ingredient_remove concrete_ingredient add_fields remove_field uk-button">Удалить</button></div>');
        }
    });
    $(wrapper).on("click",".remove_field", function(e) { 
        e.preventDefault();
        $(this).parent('div').remove();
        x--;
    })
});

function selectIngredient(e) {
  var array_ingredient = 
  [
  { id: 1, label: "Бекон" }, 
  { id: 2, label: "Ветчина" }, 
  { id: 3, label: "Говядина" }, 
  { id: 4, label: "Заяц" }, 
  { id: 5, label: "Колбаса"},
  { id: 6, label: "Колбаски"},
  { id: 7, label: "Кролик"},
  { id: 8, label: "Мясо"},
  { id: 9, label: "Сардельки"},
  { id: 10, label: "Свинина"},
  { id: 11, label: "Сервелат"},
  { id: 12, label: "Сосиски"},
  { id: 13, label: "Телятина"},
  { id: 14, label: "Фарш"},
  { id: 15, label: "Гусь"},
  { id: 16, label: "Индейка"},
  { id: 17, label: "Курица"},
  { id: 18, label: "Перепелка"},
  { id: 19, label: "Утка"},
  { id: 20, label: "Фуа-гра"},
  { id: 21, label: "Цесарка"},
  { id: 22, label: "Цыпленок"},
  { id: 23, label: "Арахис"},
  { id: 24, label: "Грецкие орехи"},
  { id: 25, label: "Каштаны"},
  { id: 26, label: "Кедровые орехи"},
  { id: 27, label: "Кешью"},
  { id: 28, label: "Кокос"},
  { id: 29, label: "Миндаль"},
  { id: 30, label: "Мускатный орех"},
  { id: 31, label: "Орехи"},
  { id: 32, label: "Орехи макадамия"},
  { id: 33, label: "Орехи пинии"},
  { id: 34, label: "Пекан"},
  { id: 35, label: "Фисташки"},
  { id: 36, label: "Фундук"},
  { id: 37, label: "Белые грибы"},
  { id: 38, label: "Вешенки"},
  { id: 39, label: "Грибы"},
  { id: 40, label: "Грибы шиитаке"},
  { id: 41, label: "Грибы эноки"},
  { id: 42, label: "Лисички"},
  { id: 43, label: "Маслята"},
  { id: 44, label: "Опята"},
  { id: 45, label: "Подбере­зовики"},
  { id: 46, label: "Рыжики"},
  { id: 47, label: "Сморчки"},
  { id: 48, label: "Сухие китайские грибы"},
  { id: 49, label: "Трюфели"},
  { id: 50, label: "Шампиньоны"},
  { id: 51, label: "Базилик"},
  { id: 52, label: "Брокколи рааб"},
  { id: 53, label: "Букет гарни"},
  { id: 54, label: "Вербена лимонная"},
  { id: 55, label: "Водяной кресс"},
  { id: 56, label: "Джусай"},
  { id: 57, label: "Зеленый лук"},
  { id: 58, label: "Зеленый салат"},
  { id: 59, label: "Зелень"},
  { id: 60, label: "Каркаде"},
  { id: 61, label: "Кервель"},
  { id: 62, label: "Крапива"},
  { id: 63, label: "Лавровый лист"},
  { id: 64, label: "Лепестки роз"},
  { id: 65, label: "Лимонная трава"},
  { id: 66, label: "Листья банана"},
  { id: 67, label: "Листья боярышника"},
  { id: 68, label: "Листья винограда"},
  { id: 69, label: "Листья карри"},
  { id: 70, label: "Листья малины"},
  { id: 71, label: "Листья одуванчика"},
  { id: 72, label: "Листья пандан"},
  { id: 73, label: "Листья шисо"},
  { id: 74, label: "Лук-ре­занец"},
  { id: 75, label: "Майоран"},
  { id: 76, label: "Мангольд"},
  { id: 77, label: "Мелисса"},
  { id: 78, label: "Мизуна"},
  { id: 79, label: "Мята"},
  { id: 80, label: "Орегано"},
  { id: 81, label: "Петрушка"},
  { id: 82, label: "Портулак"},
  { id: 83, label: "Розмарин"},
  { id: 84, label: "Рукола"},
  { id: 85, label: "Салат пак-чой"},
  { id: 86, label: "Тимьян"},
  { id: 87, label: "Укроп"},
  { id: 88, label: "Цветы лаванды"},
  { id: 89, label: "Цикорий"},
  { id: 90, label: "Черемша"},
  { id: 91, label: "Шалфей"},
  { id: 92, label: "Шпинат"},
  { id: 93, label: "Щавель"},
  { id: 94, label: "Эстрагон"},
  { id: 95, label: "Абрико­совое пюре"},
  { id: 96, label: "Абрикос"},
  { id: 97, label: "Айва"},
  { id: 98, label: "Ананас"},
  { id: 99, label: "Апельсин"},
  { id: 100, label: "Арбуз"},
  { id: 101, label: "Банановое пюре"},
  { id: 102, label: "Банан"},
  { id: 103, label: "Барбарис"},
  { id: 104, label: "Брусника"},
  { id: 105, label: "Виноград"},
  { id: 106, label: "Вишня"},
  { id: 107, label: "Голубика"},
  { id: 108, label: "Гранат"},
  { id: 109, label: "Грейпфрут"},
  { id: 110, label: "Груша"},
  { id: 111, label: "Дыня"},
  { id: 112, label: "Ежевика"},
  { id: 113, label: "Земляника"},
  { id: 114, label: "Инжир"},
  { id: 115, label: "Карамбола"},
  { id: 116, label: "Киви"},
  { id: 117, label: "Кизил"},
  { id: 118, label: "Клубника"},
  { id: 119, label: "Клюква"},
  { id: 120, label: "Крыжовник"},
    { id: 121, label: "Кумкват"},
  { id: 122, label: "Лайм"},
  { id: 123, label: "Лимон"},
  { id: 124, label: "Личи"},
  { id: 125, label: "Малина"},
  { id: 126, label: "Манго"},
  { id: 127, label: "Мандарин"},
  { id: 128, label: "Морошка"},
  { id: 129, label: "Мушмула"},
  { id: 130, label: "Нектарин"},
  { id: 131, label: "Облепиха"},
  { id: 132, label: "Папайя"},
  { id: 133, label: "Помело"},
  { id: 134, label: "Рябина"},
  { id: 135, label: "Свежие ягоды"},
  { id: 136, label: "Слива"},
  { id: 137, label: "Смородина"},
  { id: 138, label: "Танжело"},
  { id: 139, label: "Фейхоа"},
  { id: 140, label: "Финики"},
  { id: 141, label: "Хурма"},
  { id: 142, label: "Черника"},
  { id: 143, label: "Чернослив"},
  { id: 144, label: "Яблоко"},
  ];

  $(e).autocomplete({
      source: array_ingredient,
      minLength: 1,
      select: function(event, ui) {
          $(e).val(ui.item.label);
      }
  });
}